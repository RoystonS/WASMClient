Moved API code to separate library. Still needs more work.
